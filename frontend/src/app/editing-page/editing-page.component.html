<div class="editing-page-body">

  <div class="navbar-1">  <div class="logo" routerLink="/batches"></div>   </div>
  <div class="navbar-2"></div>

<div (click)="make_custom_token(custom_token_input)" #custom_token_input class="custom-token-input">+</div> 

  <div class="page-left-section" (scroll)="entity_line_adjuster()">
      
      <div class="page-left-section-image">

          <img #image_ref src={{imageUrl+image_src}}>

          <svg:svg (mousedown)="custom_token_process_start($event,image_ref,custom_token_input)" (mousemove)="custom_token_process_between($event,image_ref)" (mouseup)="custom_token_process_end($event,custom_token_input)" #svg_ref [attr.height]="image_height" [attr.width]="image_width">
              <rect #r class="image-rect" *ngFor="let i of token_cord_for_image;let ind=index" [attr.x]="i.box[0]" [attr.y]="i.box[1]" [attr.height]="i.box[3]-i.box[1]" [attr.width]="i.box[2]-i.box[0]" (mouseenter)="token_mouse_enter(r.style)" (mouseout)="token_mouse_out(r.style)" (click)="image_token_click(i.id)"/>
              <rect class="entity-rect" #display_entity_rect_ref x="0" y="0" height="0" width="0" />

              <!-- making custom token -->
              <rect #custom_token_ref class="custom-token-rect" [attr.x]="custom_token_x" [attr.y]="custom_token_y" [attr.height]="custom_token_h" [attr.width]="custom_token_w"/>

           <!-- *************display entity on selecting option************  -->

              <!-- on click display question -->
              <ng-container *ngIf="display_question_token==1"> 
                <ng-container *ngFor="let q of question_entity_ids">
                  <rect class="mark-question-on-image"  *ngFor="let qj of q" [attr.x]="token_cord_for_image[qj].box[0]" [attr.y]="token_cord_for_image[qj].box[1]" [attr.height]="token_cord_for_image[qj].box[3]-token_cord_for_image[qj].box[1]" [attr.width]="token_cord_for_image[qj].box[2]-token_cord_for_image[qj].box[0]"/> 
                </ng-container>
              </ng-container>

              <!-- on click display answer -->
              <ng-container *ngIf="display_answer_token==1"> 
                <ng-container *ngFor="let a of answer_entity_ids">
                  <rect class="mark-answer-on-image"  *ngFor="let aj of a" [attr.x]="token_cord_for_image[aj].box[0]" [attr.y]="token_cord_for_image[aj].box[1]" [attr.height]="token_cord_for_image[aj].box[3]-token_cord_for_image[aj].box[1]" [attr.width]="token_cord_for_image[aj].box[2]-token_cord_for_image[aj].box[0]"/> 
                </ng-container>
              </ng-container>

              <!-- on click display header -->
              <ng-container *ngIf="display_header_token==1"> 
                <ng-container *ngFor="let h of header_entity_ids">
                  <rect class="mark-header-on-image"  *ngFor="let hj of h" [attr.x]="token_cord_for_image[hj].box[0]" [attr.y]="token_cord_for_image[hj].box[1]" [attr.height]="token_cord_for_image[hj].box[3]-token_cord_for_image[hj].box[1]" [attr.width]="token_cord_for_image[hj].box[2]-token_cord_for_image[hj].box[0]"/> 
                </ng-container>
              </ng-container>

              <!-- on click display other -->
              <ng-container *ngIf="display_other_token==1"> 
                <ng-container *ngFor="let o of other_entity_ids">
                  <rect class="mark-other-on-image"  *ngFor="let oj of o" [attr.x]="token_cord_for_image[oj].box[0]" [attr.y]="token_cord_for_image[oj].box[1]" [attr.height]="token_cord_for_image[oj].box[3]-token_cord_for_image[oj].box[1]" [attr.width]="token_cord_for_image[oj].box[2]-token_cord_for_image[oj].box[0]"/> 
                </ng-container>
              </ng-container>
          </svg>
      </div>

      <div class="image-control-container-background">

        <div class="image-control-container-dropdown" *ngIf="image_control_container_closed" (click)="image_control_container()"> <i class="dropdown-sign"></i> </div>

        <div class="image-control-container" *ngIf="image_control_container_open">

          <div class="zoom-control">
            <div (click)="image_zoom_in()" class="zoom-in-button">+</div>
            <div (click)="image_zoom_out()" class="zoom-out-button">-</div>
          </div>

          <div class="label-type">
            <div class="display-all-question-on-click" (click)="display_category_label('q')">Q</div>
            <div class="display-all-answer-on-click" (click)="display_category_label('a')">A</div>
            <div class="display-all-header-on-click" (click)="display_category_label('h')">H</div>
            <div class="display-all-other-on-click" (click)="display_category_label('o')">O</div>
          </div>
        </div>

        <div class="image-control-container-close" *ngIf="image_control_container_open" (click)="image_control_container()">X</div>
      </div>
    </div>

    <div class="page-right-section"> 
      <!-- *****************************************Field/Checkbox selection buttons******************************* -->
      <div class="field-checkbox-selection">
        <div class="fields" #field (click)="show_fields_section(field, checkbox)">Fields</div>
        <div class="checkbox" #checkbox (click)="show_checkboxes_section(field, checkbox)">Checkboxes</div>
      </div>
    </div>
</div>
